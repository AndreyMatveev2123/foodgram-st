{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\foodgram-st\\\\frontend\\\\src\\\\components\\\\subscription\\\\index.js\",\n  _s = $RefreshSig$();\nimport styles from \"./styles.module.css\";\nimport { useState } from \"react\";\nimport { Button, LinkComponent, Popup } from \"../index\";\nimport DefaultImage from \"../../images/userpic-icon.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst countForm = (number, titles) => {\n  number = Math.abs(number);\n  if (Number.isInteger(number)) {\n    let cases = [2, 0, 1, 1, 1, 2];\n    return titles[number % 100 > 4 && number % 100 < 20 ? 2 : cases[number % 10 < 5 ? number % 10 : 5]];\n  }\n  return titles[1];\n};\nconst Subscription = ({\n  email,\n  first_name,\n  last_name,\n  username,\n  removeSubscription,\n  recipes_count,\n  id,\n  recipes,\n  avatar\n}) => {\n  _s();\n  const shouldShowButton = recipes_count > 3;\n  const moreRecipes = recipes_count - 3;\n  const [toDelete, setToDelete] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.subscription,\n    children: [toDelete && /*#__PURE__*/_jsxDEV(Popup, {\n      title: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u043E\\u0442\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C\\u0441\\u044F?\",\n      onSubmit: () => {\n        removeSubscription({\n          id,\n          callback: () => {\n            setToDelete(false);\n          }\n        });\n      },\n      onClose: () => {\n        setToDelete(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.subscriptionHeader,\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles.subscriptionTitle,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.subscriptionAvatar,\n          style: {\n            \"background-image\": `url(${avatar || DefaultImage})`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LinkComponent, {\n          className: styles.subscriptionRecipeLink,\n          href: `/user/${id}`,\n          title: `${first_name} ${last_name}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.subscriptionBody,\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: styles.subscriptionItems,\n        children: [recipes.map(recipe => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: styles.subscriptionItem,\n            children: /*#__PURE__*/_jsxDEV(LinkComponent, {\n              className: styles.subscriptionRecipeLink,\n              href: `/recipes/${recipe.id}`,\n              title: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.subscriptionRecipe,\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: recipe.image,\n                  alt: recipe.name,\n                  className: styles.subscriptionRecipeImage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: styles.subscriptionRecipeTitle,\n                  children: recipe.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles.subscriptionRecipeText,\n                  children: [recipe.cooking_time, \" \\u043C\\u0438\\u043D.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this)\n          }, recipe.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this);\n        }), shouldShowButton && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: styles.subscriptionMore,\n          children: /*#__PURE__*/_jsxDEV(LinkComponent, {\n            className: styles.subscriptionLink,\n            title: `Еще ${moreRecipes} ${countForm(moreRecipes, [\"рецепт\", \"рецепта\", \"рецептов\"])}...`,\n            href: `/user/${id}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.subscriptionFooter,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        className: styles.subscriptionButton,\n        clickHandler: _ => {\n          setToDelete(true);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"20\",\n          viewBox: \"0 0 16 20\",\n          fill: \"none\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M14 10H2\",\n            stroke: \"black\",\n            \"stroke-width\": \"2\",\n            \"stroke-linecap\": \"round\",\n            \"stroke-linejoin\": \"round\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), \"\\u041E\\u0442\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C\\u0441\\u044F\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(Subscription, \"TUfgQ3BH5BTPNIvfs25BPOwp66k=\");\n_c = Subscription;\nexport default Subscription;\nvar _c;\n$RefreshReg$(_c, \"Subscription\");","map":{"version":3,"names":["styles","useState","Button","LinkComponent","Popup","DefaultImage","jsxDEV","_jsxDEV","countForm","number","titles","Math","abs","Number","isInteger","cases","Subscription","email","first_name","last_name","username","removeSubscription","recipes_count","id","recipes","avatar","_s","shouldShowButton","moreRecipes","toDelete","setToDelete","className","subscription","children","title","onSubmit","callback","onClose","fileName","_jsxFileName","lineNumber","columnNumber","subscriptionHeader","subscriptionTitle","subscriptionAvatar","style","subscriptionRecipeLink","href","subscriptionBody","subscriptionItems","map","recipe","subscriptionItem","subscriptionRecipe","src","image","alt","name","subscriptionRecipeImage","subscriptionRecipeTitle","subscriptionRecipeText","cooking_time","subscriptionMore","subscriptionLink","subscriptionFooter","subscriptionButton","clickHandler","_","xmlns","width","height","viewBox","fill","d","stroke","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/foodgram-st/frontend/src/components/subscription/index.js"],"sourcesContent":["import styles from \"./styles.module.css\";\r\nimport { useState } from \"react\";\r\nimport { Button, LinkComponent, Popup } from \"../index\";\r\nimport DefaultImage from \"../../images/userpic-icon.jpg\";\r\n\r\nconst countForm = (number, titles) => {\r\n  number = Math.abs(number);\r\n  if (Number.isInteger(number)) {\r\n    let cases = [2, 0, 1, 1, 1, 2];\r\n    return titles[\r\n      number % 100 > 4 && number % 100 < 20\r\n        ? 2\r\n        : cases[number % 10 < 5 ? number % 10 : 5]\r\n    ];\r\n  }\r\n  return titles[1];\r\n};\r\n\r\nconst Subscription = ({\r\n  email,\r\n  first_name,\r\n  last_name,\r\n  username,\r\n  removeSubscription,\r\n  recipes_count,\r\n  id,\r\n  recipes,\r\n  avatar,\r\n}) => {\r\n  const shouldShowButton = recipes_count > 3;\r\n  const moreRecipes = recipes_count - 3;\r\n  const [toDelete, setToDelete] = useState(false);\r\n\r\n  return (\r\n    <div className={styles.subscription}>\r\n      {toDelete && (\r\n        <Popup\r\n          title=\"Вы уверены, что хотите отписаться?\"\r\n          onSubmit={() => {\r\n            removeSubscription({\r\n              id,\r\n              callback: () => {\r\n                setToDelete(false);\r\n              },\r\n            });\r\n          }}\r\n          onClose={() => {\r\n            setToDelete(false);\r\n          }}\r\n        />\r\n      )}\r\n      <div className={styles.subscriptionHeader}>\r\n        <h2 className={styles.subscriptionTitle}>\r\n          <div\r\n            className={styles.subscriptionAvatar}\r\n            style={{\r\n              \"background-image\": `url(${avatar || DefaultImage})`,\r\n            }}\r\n          />\r\n          <LinkComponent\r\n            className={styles.subscriptionRecipeLink}\r\n            href={`/user/${id}`}\r\n            title={`${first_name} ${last_name}`}\r\n          />\r\n        </h2>\r\n      </div>\r\n      <div className={styles.subscriptionBody}>\r\n        <ul className={styles.subscriptionItems}>\r\n          {recipes.map((recipe) => {\r\n            return (\r\n              <li className={styles.subscriptionItem} key={recipe.id}>\r\n                <LinkComponent\r\n                  className={styles.subscriptionRecipeLink}\r\n                  href={`/recipes/${recipe.id}`}\r\n                  title={\r\n                    <div className={styles.subscriptionRecipe}>\r\n                      <img\r\n                        src={recipe.image}\r\n                        alt={recipe.name}\r\n                        className={styles.subscriptionRecipeImage}\r\n                      />\r\n                      <h3 className={styles.subscriptionRecipeTitle}>\r\n                        {recipe.name}\r\n                      </h3>\r\n                      <p className={styles.subscriptionRecipeText}>\r\n                        {recipe.cooking_time} мин.\r\n                      </p>\r\n                    </div>\r\n                  }\r\n                />\r\n              </li>\r\n            );\r\n          })}\r\n          {shouldShowButton && (\r\n            <li className={styles.subscriptionMore}>\r\n              <LinkComponent\r\n                className={styles.subscriptionLink}\r\n                title={`Еще ${moreRecipes} ${countForm(moreRecipes, [\r\n                  \"рецепт\",\r\n                  \"рецепта\",\r\n                  \"рецептов\",\r\n                ])}...`}\r\n                href={`/user/${id}`}\r\n              />\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n      <div className={styles.subscriptionFooter}>\r\n        <Button\r\n          className={styles.subscriptionButton}\r\n          clickHandler={(_) => {\r\n            setToDelete(true);\r\n          }}\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"20\"\r\n            viewBox=\"0 0 16 20\"\r\n            fill=\"none\"\r\n          >\r\n            <path\r\n              d=\"M14 10H2\"\r\n              stroke=\"black\"\r\n              stroke-width=\"2\"\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n            />\r\n          </svg>\r\n          Отписаться\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Subscription;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}