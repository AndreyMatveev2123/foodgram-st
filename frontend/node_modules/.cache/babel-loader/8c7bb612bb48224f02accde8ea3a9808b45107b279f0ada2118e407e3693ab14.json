{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\foodgram-st\\\\frontend\\\\src\\\\pages\\\\update-avatar\\\\index.js\",\n  _s = $RefreshSig$();\nimport { Container, FormTitle, Main, Form, Button, FileInput } from '../../components';\nimport styles from './styles.module.css';\nimport { useHistory } from 'react-router-dom';\nimport { useContext, useState } from 'react';\nimport { AuthContext, UserContext } from '../../contexts';\nimport MetaTags from 'react-meta-tags';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UpdateAvatar = ({\n  onAvatarChange\n}) => {\n  _s();\n  const userContext = useContext(UserContext);\n  const [avatarFile, setAvatarFile] = useState(userContext.avatar || null);\n  const [updated, setUpdated] = useState(false);\n  const checkIfDisabled = () => {\n    return avatarFile === '' || avatarFile === null || !updated;\n  };\n  return /*#__PURE__*/_jsxDEV(Main, {\n    withBG: true,\n    asFlex: true,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: styles.center,\n      children: [/*#__PURE__*/_jsxDEV(MetaTags, {\n        children: [/*#__PURE__*/_jsxDEV(\"title\", {\n          children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          name: \"description\",\n          content: \"\\u0424\\u0443\\u0434\\u0433\\u0440\\u0430\\u043C - \\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          property: \"og:title\",\n          content: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: styles.form,\n        onSubmit: e => {\n          e.preventDefault();\n          if (checkIfDisabled()) {\n            return alert('Аватар не выбран или не заменен');\n          }\n          onAvatarChange({\n            file: avatarFile\n          });\n        },\n        children: [/*#__PURE__*/_jsxDEV(FormTitle, {\n          children: \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(FileInput, {\n          onChange: file => {\n            setUpdated(true);\n            setAvatarFile(file);\n          },\n          fileTypes: [\"image/png\", \"image/jpeg\"],\n          fileSize: 5000,\n          className: styles.fileInput,\n          file: avatarFile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          modifier: \"style_dark\",\n          type: \"submit\",\n          className: styles.button,\n          children: \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 10\n  }, this);\n};\n_s(UpdateAvatar, \"lg7nGsp0Hk8uiF3idDrNPaa8ZUU=\");\n_c = UpdateAvatar;\nexport default UpdateAvatar;\nvar _c;\n$RefreshReg$(_c, \"UpdateAvatar\");","map":{"version":3,"names":["Container","FormTitle","Main","Form","Button","FileInput","styles","useHistory","useContext","useState","AuthContext","UserContext","MetaTags","jsxDEV","_jsxDEV","UpdateAvatar","onAvatarChange","_s","userContext","avatarFile","setAvatarFile","avatar","updated","setUpdated","checkIfDisabled","withBG","asFlex","children","className","center","fileName","_jsxFileName","lineNumber","columnNumber","name","content","property","form","onSubmit","e","preventDefault","alert","file","onChange","fileTypes","fileSize","fileInput","modifier","type","button","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/foodgram-st/frontend/src/pages/update-avatar/index.js"],"sourcesContent":["import { Container, FormTitle, Main, Form, Button, FileInput } from '../../components'\r\nimport styles from './styles.module.css'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useContext, useState } from 'react'\r\nimport { AuthContext, UserContext } from '../../contexts'\r\nimport MetaTags from 'react-meta-tags'\r\n\r\nconst UpdateAvatar = ({\r\n  onAvatarChange\r\n}) => {\r\n  const userContext = useContext(UserContext)\r\n  \r\n  const [ avatarFile, setAvatarFile ] = useState(userContext.avatar || null)\r\n  const [ updated, setUpdated ] = useState(false)\r\n\r\n  const checkIfDisabled = () => {\r\n    return avatarFile === '' ||\r\n    avatarFile === null || \r\n    !updated\r\n  }\r\n\r\n  return <Main withBG asFlex>\r\n    <Container className={styles.center}>\r\n      <MetaTags>\r\n        <title>Регистрация</title>\r\n        <meta name=\"description\" content=\"Фудграм - Редактирование аватара\" />\r\n        <meta property=\"og:title\" content=\"Редактирование аватара\" />\r\n      </MetaTags>\r\n      <Form\r\n        className={styles.form}\r\n        onSubmit={e => {\r\n          e.preventDefault()\r\n          if (checkIfDisabled()) {\r\n            return alert('Аватар не выбран или не заменен')\r\n          }\r\n          onAvatarChange({ file: avatarFile })\r\n        }}>\r\n        <FormTitle>Аватар</FormTitle>\r\n        <FileInput\r\n          onChange={file => {\r\n            setUpdated(true)\r\n            setAvatarFile(file)\r\n          }}\r\n          fileTypes={[\"image/png\", \"image/jpeg\"]}\r\n          fileSize={5000}\r\n          className={styles.fileInput}\r\n          file={avatarFile}\r\n        />\r\n        <Button\r\n          modifier='style_dark'\r\n          type='submit'\r\n          className={styles.button}\r\n        >\r\n          Обновить аватар\r\n        </Button>\r\n      </Form>\r\n    </Container>\r\n  </Main>\r\n}\r\n\r\nexport default UpdateAvatar\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}